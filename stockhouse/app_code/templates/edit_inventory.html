{% extends "layout.html" %}

{% block content %}
    <div class="container mt-4">
        <h2>‚úèÔ∏è Modifica Prodotto</h2>

        <style>
          .tooltip-container {
            position: relative;
            display: inline-block;
            cursor: pointer;
          }
          
          .tooltip-container .tooltip-text {
            visibility: hidden;
            width: 220px;
            background-color: #00008B;
            color: #fff;
            text-align: left;
            border-radius: 6px;
            padding: 6px 10px;
            position: absolute;
            z-index: 1;
            top: -5px;
            left: 110%;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.9em;
          }
          
          .tooltip-container:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
          }
        </style>
          
        <br><br> <!-- Aggiungi qui linee vuote -->

        <form method="POST" action="{{ url_for('main.update_inventory') }}">
            <!-- Barcode -->
            <div class="row mb-2 align-items-center">
                <div class="col-2">
                  <label for="barcode" class="form-label mb-0" style="color: #00008B" >Barcode</label>
                </div>
                <div class="col-5">
                  <input type="text" class="form-control form-control-sm" id="barcode" name="barcode"  value="{{ product.barcode }}" required maxlength="25" style="background-color:  #e6f2ff;" onchange="autoFillProduct()" onblur="autoFillProduct()" readonly>   
                </div>
            </div>
  
             <!-- Nome -->
            <div class="row mb-2 align-items-left">
              <div class="col-2">
                <label for="name" class="form-label mb-0" style="color: #00008B" >Nome</label>
              </div>
              <div class="col-5">
                <input type="text" class="form-control form-control-sm" id="name" name="name" value="{{ product.name }}" required maxlength="25" style="background-color:  #e6f2ff;" readonly>
              </div>
            </div>

            <!-- Scorta Minima -->
            <div class="row mb-2 align-items-center">
                <div class="col-2">
                  <label for="brand" class="form-label mb-0" style="color: #00008B" >Scorta Minima</label>
                </div>
                <div class="col-5">
                  <input type="text" class="form-control form-control-sm" id="min_quantity" name="min_quantity" value="{{ product.min_quantity }}" required maxlength="25" style="background-color:  #e6f2ff;">
                </div>
            </div>

             <!-- Scorta Massima -->
             <div class="row mb-2 align-items-center">
                <div class="col-2">
                  <label for="brand" class="form-label mb-0" style="color: #00008B" >Scorta Massima</label>
                </div>
                <div class="col-5">
                  <input type="text" class="form-control form-control-sm" id="max_quantity" name="max_quantity" value="{{ product.max_quantity }}" required maxlength="25" style="background-color:  #e6f2ff;">
                </div>
            </div>
 
            
             <!-- Scorta Sicurezza -->
             <div class="row mb-2 align-items-center">
                <div class="col-2">
                  <label for="brand" class="form-label mb-0" style="color: #00008B" >Scorta Sicurezza</label>
                </div>
                <div class="col-5">
                  <input type="text" class="form-control form-control-sm" id="security_quantity" name="security_quantity" value="{{ product.security_quantity }}" required maxlength="25" style="background-color:  #e6f2ff;">
                </div>
            </div>

             <!-- Punto di Riordino -->
             <div class="row mb-2 align-items-center">
                <div class="col-2">
                  <label for="brand" class="form-label mb-0" style="color: #00008B" >Punto di Riordino</label>
                </div>
                <div class="col-5">
                  <input type="text" class="form-control form-control-sm" id="reorder_point" name="reorder_point" value="{{ product.reorder_point }}" required maxlength="25" style="background-color:  #e6f2ff;">
                </div>
            </div>

             <!-- Tempo di consumo medio -->
             <div class="row mb-2 align-items-center">
                <div class="col-2">
                  <label for="brand" class="form-label mb-0" style="color: #00008B" >Tempo di consumo medio</label>
                </div>
                <div class="col-5">
                  <input type="text" class="form-control form-control-sm" id="mean_usage_time" name="mean_usage_time" value="{{ product.mean_usage_time }}" required maxlength="25" style="background-color:  #e6f2ff;">
                </div>
            </div>

            <!-- Frequenza di riordino -->
            <div class="row mb-2 align-items-center">
                <div class="col-2">
                  <label class="form-label mb-0" style="color: #00008B">
                    Frequenza di riordino
                    <span class="tooltip-container">
                      <i style="color:#00008B; font-style: normal;">&#9432;</i> <!-- simbolo ‚Ñπ -->
                      <span class="tooltip-text">
                        Numero di giorni che intercorronomediamente tra 2 ordini. Se nullo, verra utilizzato Tempo di consumo medio
                      </span>
                    </span>
                  </label>
                </div>
                <div class="col-5">
                  <input type="text" class="form-control form-control-sm" id="reorder_frequency" name="reorder_frequency" value="{{ product.reorder_frequency }}" required maxlength="25" style="background-color:  #e6f2ff;">
                </div>
            </div>

            <div class="row mb-3 align-items-center">
              <div class="col-2">
                <label class="form-label mb-0" style="color: #00008B">
                  Calcolo automatico
                  <span class="tooltip-container">
                    <i style="color:#00008B; font-style: normal;">&#9432;</i>
                    <span class="tooltip-text">
                      Se attivo, i parametri verranno derivati automaticamente<br>
                      in base alla cronologia delle scorte del prodotto.
                    </span>
                  </span>
                </label>
              </div>
            
              <div class="col-5 form-check">
                <input type="checkbox"
                      class="form-check-input"
                      id="user_override"
                      name="user_override"
                      value="1"
                      {% if product.user_override == 1 or product.user_override == '1' %}checked{% endif %}>
                <label for="user_override" class="form-check-label">Attiva</label>
              </div>
            </div>
            

          
            <style>
            /* Personalizzazione quando il checkbox √® attivo */
            input[type="checkbox"]:checked + label {
                color: green; /* Colore del testo quando attivo */
                font-weight: bold; /* Puoi aggiungere altre personalizzazioni */
            }
            </style>
 
            

            <br><br> <!-- Aggiungi qui linee vuote -->

            <div class="mt-3">
                <button type="submit" class="btn btn-success">üíæ Salva Modifiche</button>
                <a href="{{ url_for('main.list_inventory') }}" class="btn btn-secondary">üîô Annulla</a>
                <a href="{{ url_for('main.list_inventory') }}" class="btn btn-primary text-white">üîô Torna al magazzino</a>
            </div>
        </form>
    </div>
{% endblock %}
